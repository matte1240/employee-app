# ========================================
# üåç ENVIRONMENT CONFIGURATION
# ========================================
# This file contains all environment variables for the Employee Hours Tracker.
# Copy this file to `.env` and fill in your actual values.
# 
# Required variables are marked with [REQUIRED]
# Optional variables are marked with [OPTIONAL]
#

# ========================================
# üöÄ Application Settings
# ========================================

# [REQUIRED] Node environment (development, production, test)
NODE_ENV=development

# [OPTIONAL] Application port (default: 3000)
APP_PORT=3000

# [OPTIONAL] Public URL of the application (used for absolute URLs in emails, etc.)
APP_URL=http://localhost:3000

# ========================================
# üóÑÔ∏è Database Configuration
# ========================================

# [REQUIRED] PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
# 
# For Docker Compose: Use service name 'db' as host
# For local development: Use 'localhost' as host
DATABASE_URL=postgresql://app:your_secure_password_here@db:5432/employee_tracker?schema=public

# --- Docker-specific PostgreSQL settings (if using docker-compose) ---
# [OPTIONAL] PostgreSQL container configuration
POSTGRES_USER=app
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=employee_tracker
DB_PORT=5433  # External port mapping (host ‚Üí container)

# ========================================
# üîê Authentication (NextAuth)
# ========================================

# [REQUIRED] Secret key for session encryption
# Generate with: openssl rand -base64 32
# IMPORTANT: Use a strong, random value in production!
NEXTAUTH_SECRET=your_nextauth_secret_here_CHANGE_THIS

# [REQUIRED] Application URL for NextAuth callbacks
# Must match the actual URL where your app is accessible
# In production, use HTTPS: https://your-domain.com
NEXTAUTH_URL=http://localhost:3000

# ========================================
# üìß Email Configuration (Optional but Recommended)
# ========================================
# Email is used for:
# - Welcome emails with temporary passwords
# - Password reset links
# - Leave request notifications
# - Backup status alerts
#
# If not configured, email features will be disabled.

# [OPTIONAL] SMTP server hostname (e.g., smtp.gmail.com for Gmail)
EMAIL_HOST=smtp.gmail.com

# [OPTIONAL] SMTP server port (587 for TLS, 465 for SSL)
EMAIL_PORT=587

# [OPTIONAL] SMTP username (usually your email address)
EMAIL_USER=your_email@gmail.com

# [OPTIONAL] SMTP password or app-specific password
# For Gmail: Generate at https://myaccount.google.com/apppasswords
EMAIL_PASSWORD=your_app_password_here

# [OPTIONAL] "From" email address shown in sent emails
EMAIL_FROM=noreply@yourcompany.com

# [OPTIONAL] "From" name shown in sent emails
EMAIL_FROM_NAME=Employee Hours Tracker

# ========================================
# üóìÔ∏è Google Calendar Integration (Optional)
# ========================================
# Automatically sync approved leave requests to Google Calendar.
# Requires a Google Cloud service account.
#
# Setup:
# 1. Create a service account in Google Cloud Console
# 2. Enable Google Calendar API
# 3. Generate a JSON key file
# 4. Share your calendar with the service account email
#
# If not configured, leave requests will work without calendar sync.

# [OPTIONAL] Service account email from JSON key file
GOOGLE_CLIENT_EMAIL=your-service-account@project-id.iam.gserviceaccount.com

# [OPTIONAL] Private key from JSON key file
# IMPORTANT: Keep the \n line breaks in the key!
# Format: -----BEGIN PRIVATE KEY-----\nYourKeyHere\n-----END PRIVATE KEY-----\n
GOOGLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYourPrivateKeyHere\n-----END PRIVATE KEY-----\n"

# [OPTIONAL] Google Calendar ID to sync events to
# Find in: Google Calendar Settings > Integrate calendar
# Format: calendar-id@group.calendar.google.com or primary
GOOGLE_CALENDAR_ID=your-calendar-id@group.calendar.google.com

# ========================================
# üíæ Automated Backup System (Optional)
# ========================================

# [OPTIONAL] Cron schedule for automated PostgreSQL backups
# Format: "minute hour day month day-of-week"
# Examples:
#   "0 2 * * *"     - Daily at 2:00 AM
#   "0 */6 * * *"   - Every 6 hours
#   "0 2 * * 0"     - Weekly on Sunday at 2:00 AM
#   "0 2 1 * *"     - Monthly on the 1st at 2:00 AM
BACKUP_CRON_SCHEDULE="0 2 * * *"

# [OPTIONAL] Email recipient for backup notifications
# If not set, defaults to EMAIL_USER
BACKUP_EMAIL_RECIPIENT=admin@yourcompany.com

# [OPTIONAL] Backup retention days (default: 30)
BACKUP_RETENTION_DAYS=30

# [OPTIONAL] Minimum backups to keep (default: 7)
BACKUP_MIN_COUNT=7

# ========================================
# üê≥ Docker Configuration (Optional)
# ========================================
# Used for CI/CD and container registry settings

# [OPTIONAL] Docker registry URL for pushing images
DOCKER_REGISTRY=ghcr.io

# [OPTIONAL] Docker registry username (GitHub username for GHCR)
DOCKER_USERNAME=your_username

# [OPTIONAL] Docker image tag (default: latest)
TAG=latest

# [OPTIONAL] Docker host binding (use 0.0.0.0 for external access)
HOSTNAME=0.0.0.0

# ========================================
# üì± Progressive Web App (PWA) - No configuration needed
# ========================================
# PWA features are automatically enabled.
# Manifest and service worker are included in the build.
# For production, ensure NEXTAUTH_URL uses HTTPS.

# ========================================
# üîß Advanced Settings (Usually not needed)
# ========================================

# [OPTIONAL] Database connection pool size (default: 10)
# DATABASE_POOL_SIZE=10

# [OPTIONAL] Session inactivity timeout in seconds (default: 1800 = 30 minutes)
# SESSION_MAX_AGE=1800

# [OPTIONAL] Log level (error, warn, info, debug)
# LOG_LEVEL=info

# ========================================
# üìù Notes
# ========================================
#
# - Never commit your actual `.env` file to version control!
# - Use strong, unique values for all secrets in production
# - Test email configuration before deploying
# - Backup your `.env` file securely
# - For production, use environment-specific values
#
# Need help? See docs/CONFIGURATION.md for detailed setup guides.
#

